<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script type="text/javascript">
      var bestof = 5
      var inputs = ["rock", "paper", "scissors"];
      var outcomes = ["won", "lost", "tied"]
      var userInput;
      var win = 0;
      var loss = 0;
      var draw = 0;
      var result;

      for (var i = 1; i <= bestof; i++) {
       
        //parse input and validate
        userInput = prompt("Choose " + inputs[0] + ", " + inputs[1] + " or " + inputs[2] + " (r,p,s)");
        if (userInput == "r") {
          userInput = 0;
        }
        else if (userInput == "p") {
          userInput = 1;
        }
        else if (userInput == "s") {
          userInput = 2;
        }
        else {
            //if invalid input, skip iteration and force 5 valid user inputs by modifying i 
            alert('invalid input')
            i -= 1
            continue
        }

        //generate computer input
        var computerInput = Math.floor(Math.random() * Math.floor(2));

        //evaluate user input against computer input
        if (userInput == computerInput) {
          draw += 1
          result = outcomes[2]
        } else if (
          (userInput == 0 && computerInput == 2) ||
          (userInput == 1 && computerInput == 0) ||
          (userInput == 2 && computerInput == 1)
        ) {
          win += 1
          result = outcomes[0]
        } else {
          loss +=1
          result = outcomes[1]
        }
       
        //display result
        alert(
          "you chose " +
            inputs[userInput] +
            ". The computer chose " +
            inputs[computerInput] + ". You " + result
        );
      }

      var bestofResult
      //evalute bestof result
      if (win > loss) {
        bestofResult = outcomes[0]
      }
      else if (win < loss) {
        bestofResult = outcomes[1]
      }
      else {
          bestofResult = outcomes[2]
      }

      //display bestof result
      alert("Wins: " + win + " Loss: " + loss + " Draws: " + draw + ". You " + bestofResult + " best of " + bestof)

    </script>
  </body>
</html>
